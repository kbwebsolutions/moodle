define(["jquery"],function(a){return{init:function(b,c,d){a("select#id_coursecategory").closest("#autoselects").children(0).unwrap(),a("select#id_coursecategory").closest(".fitem").addClass("hidden"),a("select#id_course").closest(".fitem").addClass("hidden");var e={CONTEXT_SYSTEM:10,CONTEXT_COURSECAT:40,CONTEXT_COURSE:50};"edit"!=b&&"delete"!=b||(d==e.CONTEXT_COURSECAT&&(a("select#id_coursecategory").closest(".fitem").addClass("hidden"),a("select#id_coursecategory").value=c),d==e.CONTEXT_COURSE&&(a("select#id_course").closest(".fitem").addClass("hidden"),a("select#id_course").parent(0).value=c)),a("#id_context").css({"max-width":"fit-content"}),a("#id_context").change(function(){var b=a(this).children("option:selected").val();b==e.CONTEXT_COURSECAT&&(a("select#id_course").parent(0).closest(".fitem").addClass("hidden"),a("select#id_coursecategory").closest(".fitem").removeClass("hidden")),b==e.CONTEXT_COURSE&&(a("select#id_course").closest(".fitem").removeClass("hidden"),a("select#id_coursecategory").closest(".fitem").addClass("hidden")),b==e.CONTEXT_SYSTEM&&(a("select#id_course").closest(".fitem").addClass("hidden"),a("select#id_coursecategory").closest(".fitem").addClass("hidden"))})}}});