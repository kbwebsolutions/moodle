define(["block_learnerscript/ajax","jquery","block_learnerscript/report","block_reportdashboard/radioslider","block_reportdashboard/flatpickr"],function(t,d,l,e,o){var c;return c={init:function(){this.BootSideMenu({refreshdashboard:1,side:"right",title:"Course Statistics",width:"30%"})},CourseInsights:function(){var t=d("#internalbsm1").dialog({resizable:!0,autoOpen:!1,width:"50%",title:"",modal:!0,show:{effect:"slide",duration:1e3},position:{my:"left",at:"top",of:"body"},create:function(t,e){d(".ui-dialog").css("z-index",9999)},open:function(t){e.init(d("#segmented-button"),{size:"medium",animation:!0}),o("#customrange",{mode:"range",onChange:function(t,e,o){d("#ls_fstartdate").val(t[0].getTime()/1e3),d("#ls_fenddate").val(t[1].getTime()/1e3),require(["block_learnerscript/report"],function(t){t.DashboardTiles(),t.DashboardWidgets()})}}),require(["block_learnerscript/report"],function(t){t.DashboardTiles(),t.DashboardWidgets()}),d(document).ajaxStop(function(){d(".loader").fadeOut("slow")})},close:function(t,e){d(this).dialog("destroy"),d(".report_dashboard_container").html(""),d(".plotreport_dashboard_container").html("")}});d(document).ajaxComplete(function(){d("#reportloading").hide()}),t.dialog("open")},BootSideMenu:function(t){var e,o,i,n=d("#internalbsm"),a={},s={side:"left",duration:500,autoClose:!0,pushBody:!1,closeOnClick:!0,remember:!1,width:t.width,onTogglerClick:function(){},onBeforeOpen:function(){},onBeforeClose:function(){},onOpen:function(){t.refreshdashboard&&(l.DashboardTiles(),l.DashboardWidgets())},onClose:function(){},onStartup:function(){}},r=d.extend({},s,t);switch(a.originalMarginLeft=d("body").css("margin-left"),a.originalMarginRight=d("body").css("margin-right"),a.width=d("body").width(),e=' <div class="menu-wrapper">\n'+n.html()+" </div>",e+='<div class="toggler" data-whois="toggler">',e+=" "+r.title,e+="</div>",n.empty(),n.append(e),(o=d(n)).addClass("container"),o.addClass("bootsidemenu"),o.css("width",r.width),"left"==r.side?o.addClass("bootsidemenu-left"):"right"==r.side&&o.addClass("bootsidemenu-right"),o.id=o.attr("id"),o.cookieName="bsm2-"+o.id,o.toggler=d(o.children()[1]),o.originalPushBody=r.pushBody,o.originalCloseOnClick=r.closeOnClick,i=r.remember?this.readCookie(o.cookieName):null,this.forSmallBody(r,o),i){case"opened":this.startOpened(r,o);break;case"closed":this.startClosed(r,o);break;default:this.startDefault(r,o)}void 0!==r.onStartup&&r.onStartup(o),d('[data-toggle="collapse"]',o).each(function(){var t=d('<span class="glyphicon glyphicon-chevron-right"></span>');d(n).prepend(t)}),o.off("click","[data-whois=toggler]"),o.on("click","[data-whois=toggler]",function(){c.toggle(r,o,a),void 0!==r.onTogglerClick&&r.onTogglerClick(o)}),o.off("click",".list-group-item"),o.on("click",".list-group-item",function(){o.find(".list-group-item").each(function(){d(n).removeClass("active")}),d(n).addClass("active"),d(".glyphicon",n).toggleClass("glyphicon-chevron-right").toggleClass("glyphicon-chevron-down")}),o.off("click","a.list-group-item"),o.on("click","a.list-group-item",function(){r.closeOnClick&&"collapse"!=d(n).attr("data-toggle")&&this.closeMenu(!0,r,o)})},ToggleArea:function(){var t=d("#internalbsm"),e=t[0].classList,o=this.getSide(e),i=t.width(),n=t.attr("data-status");"closed"===(n=n||"opened")&&(l.DashboardTiles(),l.DashboardWidgets()),this.doAnimation(t,i,o,n)},searchSubMenu:function(e){var o=!1;return d(".submenu").each(function(){var t=d(this).attr("id");e==t&&(o=!0)}),o},readCookie:function(t){for(var e=t+"=",o=document.cookie.split(";"),i=0;i<o.length;i++){for(var n=o[i];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return null},startDefault:function(t,e){"left"==t.side?t.autoClose?(e.status="closed",e.hide().animate({left:-(e.width()+2)},1,function(){e.show()})):t.autoClose||(e.status="opened",t.pushBody&&d("body").css("margin-left",e.width()+20)):"right"==t.side&&(t.autoClose?(e.status="closed",e.hide().animate({right:-(e.width()+2)},1,function(){e.show()})):(e.status="opened",t.pushBody&&d("body").css("margin-right",e.width()+20)))},startClosed:function(t,e){"left"==t.side?(e.status="closed",e.hide().animate({left:-(e.width()+2)},1,function(){e.show()})):"right"==t.side&&(e.status="closed",e.hide().animate({right:-(e.width()+2)},1,function(){e.show()}))},startOpened:function(t,e){"left"==t.side?(e.status="opened",t.pushBody&&d("body").css("margin-left",e.width()+20)):"right"==t.side&&(e.status="opened",t.pushBody&&d("body").css("margin-right",e.width()+20))},switchArrow:function(t,e){var o=e.toggler.find("span.glyphicon");"left"==t?o.removeClass("glyphicon-chevron-left").addClass("glyphicon-chevron-right"):"right"==t&&o.removeClass("glyphicon-chevron-right").addClass("glyphicon-chevron-left")},forSmallBody:function(t,e){d(window).width()<=480?(t.pushBody=!1,t.closeOnClick=!0):(t.pushBody=e.originalPushBody,t.closeOnClick=e.originalCloseOnClick)},getSide:function(t){for(var e,o=0;o<t.length;o++){if("sidebar-left"==t[o]){e="left";break}if("sidebar-right"==t[o]){e="right";break}e=null}return e},doAnimation:function(t,e,o,i){var n=t.children()[1];"opened"==i?("left"==o?(t.animate({left:-(e+2)}),this.toggleArrow(n,"left")):"right"==o&&(t.animate({right:-(e+2)}),this.toggleArrow(n,"right")),t.attr("data-status","closed")):("left"==o?(t.animate({left:0}),this.toggleArrow(n,"right")):"right"==o&&(t.animate({right:0}),this.toggleArrow(n,"left")),t.attr("data-status","opened"))},toggle:function(t,e,o){"opened"==e.status?this.closeMenu(!0,t,e,o):this.openMenu(!0,t,e,o)},closeMenu:function(t,e,o,i){t&&void 0!==e.onBeforeClose&&e.onBeforeClose(o),"left"==e.side?(e.pushBody&&d("body").animate({marginLeft:i.originalMarginLeft},{duration:e.duration}),o.animate({left:-(o.width()+2)},{duration:e.duration,done:function(){o.status="closed",t&&void 0!==e.onClose&&e.onClose(o)}})):"right"==e.side&&(e.pushBody&&d("body").animate({marginRight:i.originalMarginRight},{duration:e.duration}),o.animate({right:-(o.width()+2)},{duration:e.duration,done:function(){o.status="closed",t&&void 0!==e.onClose&&e.onClose(o)}})),e.remember&&this.storeCookie(o.cookieName,"closed")},storeCookie:function(t,e){var o=new Date;o.setTime(o.getTime()+864e5);var i="expires="+o.toUTCString();document.cookie=t+"="+e+"; "+i+"; path=/"},openMenu:function(t,e,o,i){t&&void 0!==e.onBeforeOpen&&e.onBeforeOpen(o),"left"==e.side?(e.pushBody&&d("body").animate({marginLeft:o.width()+20},{duration:e.duration}),o.animate({left:0},{duration:e.duration,done:function(){o.status="opened",t&&void 0!==e.onOpen&&e.onOpen(o)}})):"right"==e.side&&(e.pushBody&&d("body").animate({marginRight:o.width()+20},{duration:e.duration}),o.animate({right:0},{duration:e.duration,done:function(){o.status="opened",t&&void 0!==e.onOpen&&e.onOpen(o)}})),e.remember&&this.storeCookie(o.cookieName,"opened")},toggleArrow:function(t,e){"left"==e?(d(t).children(".glyphicon-chevron-right").css("display","block"),d(t).children(".glyphicon-chevron-left").css("display","none")):"right"==e&&(d(t).children(".glyphicon-chevron-left").css("display","block"),d(t).children(".glyphicon-chevron-right").css("display","none"))}}});